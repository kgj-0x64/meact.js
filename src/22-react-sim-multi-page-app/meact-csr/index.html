<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Page Meact App</title>
    <!-- Link and Script tags will be injected by the server -->
    <link rel="stylesheet" href="$stylesheetBundlePath" />
    <script src="globals.js" defer></script>
    <script src="$scriptBundlePath" defer></script>
    <script src="meact-csr/client.js" defer></script>
  </head>
  <body>
    <div id="root">
      <!-- Your content here -->
    </div>
    <div id="meact-element-tree"></div>
    <!-- Inline script that calls runApp from "csr.js" -->
    <script>
      // set these values dynamically while handling GET request for a page
      let scriptBundlePath = "$scriptBundlePath";

      // https://stackoverflow.com/a/41395202/3083243
      // Let your inline script wait for the document and the deferred scripts to be loaded.
      window.addEventListener("DOMContentLoaded", async function () {
        // name of meact's CSR client object and its target function name created by the build process
        const meactCsrClientNamespace = namespaces.MEACT_CSR_CLIENT_NAMESPACE;
        // accessing the CSR client object from the global window namespace
        const meactCsrClientRef = window[meactCsrClientNamespace];
        // access function from build's namespace instead of `window` namespace
        meactCsrClientRef["run"].call(null, {
          scriptBundlePath,
        });
      });
    </script>
  </body>
</html>
